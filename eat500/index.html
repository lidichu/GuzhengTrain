<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬äºŒå±†500ç¢— - å…¨å°ç¾é£Ÿåœ°åœ–</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #f5f5f5;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 16px;
            opacity: 0.9;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            display: flex;
            gap: 20px;
            height: calc(100vh - 120px);
        }
        
        .sidebar {
            width: 350px;
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow-y: auto;
        }
        
        .search-box {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            margin-bottom: 20px;
            transition: border-color 0.3s;
        }
        
        .search-box:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .filter-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .filter-btn {
            padding: 8px 16px;
            border: 2px solid #e0e0e0;
            background: white;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }
        
        .filter-btn:hover {
            border-color: #667eea;
            color: #667eea;
        }
        
        .filter-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        
        .restaurant-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .restaurant-item {
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        
        .restaurant-item:hover {
            background: #e9ecef;
            border-color: #667eea;
            transform: translateX(5px);
        }
        
        .restaurant-item.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        
        .restaurant-name {
            font-weight: 600;
            font-size: 16px;
            margin-bottom: 5px;
        }
        
        .restaurant-address {
            font-size: 14px;
            opacity: 0.8;
        }
        
        .restaurant-award {
            display: inline-block;
            padding: 4px 8px;
            background: #ffd700;
            color: #333;
            border-radius: 4px;
            font-size: 12px;
            margin-top: 5px;
            font-weight: 600;
        }
        
        .restaurant-item.active .restaurant-award {
            background: white;
            color: #667eea;
        }
        
        #map {
            flex: 1;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .info-window {
            padding: 10px;
            max-width: 250px;
        }
        
        .info-window h3 {
            margin-bottom: 8px;
            color: #333;
        }
        
        .info-window p {
            margin-bottom: 5px;
            font-size: 14px;
            color: #666;
        }
        
        .info-window .award {
            display: inline-block;
            padding: 4px 8px;
            background: #ffd700;
            color: #333;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            margin-top: 8px;
        }
        
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
                height: auto;
            }
            
            .sidebar {
                width: 100%;
                max-height: 400px;
            }
            
            #map {
                height: 500px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸœ ç¬¬äºŒå±†500ç¢— - å…¨å°ç¾é£Ÿåœ°åœ–</h1>
        <p>2024å¹´å®Œæ•´å¾—çåå–®ï¼šåœ¨åœ°è§€é»çš„å…¨å°å°åƒæ–°æŒ‡å—</p>
    </div>
    
    <div class="container">
        <div class="sidebar">
            <input type="text" class="search-box" placeholder="æœå°‹é¤å»³åç¨±æˆ–åœ°å€..." id="searchInput">
            
            <div class="filter-buttons">
                <button class="filter-btn active" data-filter="all">å…¨éƒ¨</button>
                <button class="filter-btn" data-filter="å°åŒ—">å°åŒ—</button>
                <button class="filter-btn" data-filter="å°ä¸­">å°ä¸­</button>
                <button class="filter-btn" data-filter="å½°åŒ–">å½°åŒ–</button>
                <button class="filter-btn" data-filter="é«˜é›„">é«˜é›„</button>
                <button class="filter-btn" data-filter="å®œèŠ±">å®œèŠ±</button>
            </div>
            
            <div class="restaurant-list" id="restaurantList"></div>
        </div>
        
        <div id="map"></div>
    </div>

    <script>
        // é¤å»³è³‡æ–™ï¼ˆåŒ…å«æ¨æ¸¬çš„åœ°å€ï¼‰
        const restaurants = [
            // 3ç¢—å¾—çåå–®
            {
                name: "è²¡ç¥å°å—æ“”ä»”éºµ",
                city: "å°åŒ—",
                address: "å°åŒ—å¸‚å¤§å®‰å€å¿ å­æ±è·¯å››æ®µ216å··27å¼„16è™Ÿ",
                lat: 25.0418,
                lng: 121.5534,
                award: "3ç¢—",
                category: "æ“”ä»”éºµ"
            },
            {
                name: "åŠŸå¤«ä¸Šæµ·æ‰‹å·¥é­šä¸¸",
                city: "å°ä¸­",
                address: "å°ä¸­å¸‚è¥¿å€æ°‘ç”Ÿè·¯370è™Ÿ",
                lat: 24.1377,
                lng: 120.6693,
                award: "3ç¢—",
                category: "é­šä¸¸"
            },
            {
                name: "é˜¿æ·»è›¤ä»”éºµ",
                city: "å½°åŒ–",
                address: "å½°åŒ–ç¸£å½°åŒ–å¸‚æˆåŠŸè·¯312è™Ÿ",
                lat: 24.0758,
                lng: 120.5442,
                award: "3ç¢—",
                category: "è›¤ä»”éºµ"
            },
            {
                name: "å‰é‡‘è‚‰ç‡¥é£¯",
                city: "é«˜é›„",
                address: "é«˜é›„å¸‚å‰é‡‘å€è‡ªå¼·äºŒè·¯144è™Ÿ",
                lat: 22.6273,
                lng: 120.2945,
                award: "3ç¢—",
                category: "è‚‰ç‡¥é£¯"
            },
            {
                name: "æ©‹é ­è‡­è±†è…ï¼ˆå‰µå§‹åº—ï¼‰",
                city: "å®œèŠ±",
                address: "å®œè˜­ç¸£ç¤æºªé„‰ç¤æºªè·¯äº”æ®µ5è™Ÿ",
                lat: 24.8269,
                lng: 121.7709,
                award: "3ç¢—",
                category: "è‡­è±†è…"
            },
            // 2ç¢—å¾—çåå–®
            {
                name: "ä¸‰å…ƒè™Ÿé­¯è‚‰é£¯",
                city: "å°åŒ—",
                address: "å°åŒ—å¸‚å¤§åŒå€é‡æ…¶åŒ—è·¯äºŒæ®µ11è™Ÿ",
                lat: 25.0532,
                lng: 121.5137,
                award: "2ç¢—",
                category: "é­¯è‚‰é£¯"
            },
            {
                name: "è±¬è‚æ¦®ä»”",
                city: "å°åŒ—",
                address: "å°åŒ—å¸‚ä¸­æ­£å€ç¾…æ–¯ç¦è·¯ä¸€æ®µ8è™Ÿ",
                lat: 25.0421,
                lng: 121.5198,
                award: "2ç¢—",
                category: "è±¬è‚æ¹¯"
            },
            {
                name: "å—æ¸¯è€å¼µç‡’é¤…åº—",
                city: "å°åŒ—",
                address: "å°åŒ—å¸‚å—æ¸¯å€å—æ¸¯è·¯ä¸€æ®µ137è™Ÿ",
                lat: 25.0544,
                lng: 121.6065,
                award: "2ç¢—",
                category: "ç‡’é¤…/èƒ¡æ¤’é¤…"
            },
            {
                name: "é¾æ³‰å¸‚å ´ç„¡åéºµæ”¤",
                city: "å°åŒ—",
                address: "å°åŒ—å¸‚å¤§å®‰å€å’Œå¹³æ±è·¯ä¸‰æ®µé¾æ³‰å¸‚å ´å…§",
                lat: 25.0234,
                lng: 121.5532,
                award: "2ç¢—",
                category: "éºµé£Ÿ"
            },
            {
                name: "è³£éºµç‚ä»”",
                city: "å°åŒ—",
                address: "å°åŒ—å¸‚å¤§åŒå€å®‰è¥¿è¡—106è™Ÿ",
                lat: 25.0555,
                lng: 121.5156,
                award: "2ç¢—",
                category: "éºµé£Ÿ"
            }
        ];

        let map;
        let markers = [];
        let activeMarker = null;
        let infoWindow;

        // åˆå§‹åŒ–åœ°åœ–
        function initMap() {
            // è¨­å®šåœ°åœ–ä¸­å¿ƒé»ï¼ˆå°ç£ä¸­éƒ¨ï¼‰
            const taiwan = { lat: 23.9037, lng: 121.0794 };
            
            map = new google.maps.Map(document.getElementById('map'), {
                zoom: 7,
                center: taiwan,
                styles: [
                    {
                        featureType: "poi",
                        elementType: "labels",
                        stylers: [{ visibility: "off" }]
                    }
                ]
            });

            infoWindow = new google.maps.InfoWindow();

            // ç‚ºæ¯å€‹é¤å»³å‰µå»ºæ¨™è¨˜
            restaurants.forEach((restaurant, index) => {
                const marker = new google.maps.Marker({
                    position: { lat: restaurant.lat, lng: restaurant.lng },
                    map: map,
                    title: restaurant.name,
                    icon: {
                        url: restaurant.award === '3ç¢—' 
                            ? 'http://maps.google.com/mapfiles/ms/icons/yellow-dot.png'
                            : 'http://maps.google.com/mapfiles/ms/icons/red-dot.png',
                        scaledSize: new google.maps.Size(40, 40)
                    }
                });

                marker.addListener('click', () => {
                    showRestaurantInfo(restaurant, marker);
                    highlightRestaurant(index);
                });

                markers.push(marker);
            });

            // æ¸²æŸ“é¤å»³åˆ—è¡¨
            renderRestaurantList();
        }

        // é¡¯ç¤ºé¤å»³è³‡è¨Šè¦–çª—
        function showRestaurantInfo(restaurant, marker) {
            const content = `
                <div class="info-window">
                    <h3>${restaurant.name}</h3>
                    <p><strong>é¡åˆ¥ï¼š</strong>${restaurant.category}</p>
                    <p><strong>åœ°å€ï¼š</strong>${restaurant.address}</p>
                    <div class="award">${restaurant.award}ç</div>
                </div>
            `;
            
            infoWindow.setContent(content);
            infoWindow.open(map, marker);
            
            // å°‡åœ°åœ–ä¸­å¿ƒç§»åˆ°è©²æ¨™è¨˜
            map.panTo(marker.getPosition());
            map.setZoom(16);
        }

        // æ¸²æŸ“é¤å»³åˆ—è¡¨
        function renderRestaurantList(filteredRestaurants = restaurants) {
            const listContainer = document.getElementById('restaurantList');
            listContainer.innerHTML = '';

            filteredRestaurants.forEach((restaurant, index) => {
                const item = document.createElement('div');
                item.className = 'restaurant-item';
                item.innerHTML = `
                    <div class="restaurant-name">${restaurant.name}</div>
                    <div class="restaurant-address">${restaurant.address}</div>
                    <span class="restaurant-award">${restaurant.award}ç</span>
                `;
                
                item.addEventListener('click', () => {
                    const markerIndex = restaurants.indexOf(restaurant);
                    google.maps.event.trigger(markers[markerIndex], 'click');
                });

                listContainer.appendChild(item);
            });
        }

        // é«˜äº®é¡¯ç¤ºé¸ä¸­çš„é¤å»³
        function highlightRestaurant(index) {
            document.querySelectorAll('.restaurant-item').forEach((item, i) => {
                if (i === index) {
                    item.classList.add('active');
                    item.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                } else {
                    item.classList.remove('active');
                }
            });
        }

        // æœå°‹åŠŸèƒ½
        document.getElementById('searchInput').addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase();
            const filtered = restaurants.filter(restaurant => 
                restaurant.name.toLowerCase().includes(searchTerm) ||
                restaurant.address.toLowerCase().includes(searchTerm) ||
                restaurant.category.toLowerCase().includes(searchTerm)
            );
            
            renderRestaurantList(filtered);
            
            // æ›´æ–°åœ°åœ–æ¨™è¨˜å¯è¦‹æ€§
            markers.forEach((marker, index) => {
                marker.setVisible(filtered.includes(restaurants[index]));
            });
        });

        // ç¯©é¸åŠŸèƒ½
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                // æ›´æ–°æŒ‰éˆ•ç‹€æ…‹
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                const filter = btn.getAttribute('data-filter');
                let filtered = restaurants;
                
                if (filter !== 'all') {
                    filtered = restaurants.filter(r => r.city === filter);
                }
                
                renderRestaurantList(filtered);
                
                // æ›´æ–°åœ°åœ–æ¨™è¨˜å¯è¦‹æ€§
                markers.forEach((marker, index) => {
                    marker.setVisible(filter === 'all' || restaurants[index].city === filter);
                });
                
                // èª¿æ•´åœ°åœ–è¦–é‡
                if (filtered.length > 0) {
                    const bounds = new google.maps.LatLngBounds();
                    filtered.forEach(restaurant => {
                        bounds.extend(new google.maps.LatLng(restaurant.lat, restaurant.lng));
                    });
                    map.fitBounds(bounds);
                }
            });
        });
    </script>
    
    <!-- è«‹æ›¿æ› YOUR_API_KEY ç‚ºæ‚¨çš„ Google Maps API é‡‘é‘° -->
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBBEZEqrNZA2irkersNDGRZpSvjYQDc7m4&callback=initMap&language=zh-TW">
    </script>
</body>
</html>
