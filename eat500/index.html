<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第二屆500碗 - 全台美食地圖</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #f5f5f5;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 16px;
            opacity: 0.9;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            display: flex;
            gap: 20px;
            height: calc(100vh - 120px);
        }
        
        .sidebar {
            width: 350px;
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow-y: auto;
        }
        
        .search-box {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            margin-bottom: 20px;
            transition: border-color 0.3s;
        }
        
        .search-box:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .filter-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .filter-btn {
            padding: 8px 16px;
            border: 2px solid #e0e0e0;
            background: white;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }
        
        .filter-btn:hover {
            border-color: #667eea;
            color: #667eea;
        }
        
        .filter-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        
        .restaurant-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .restaurant-item {
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        
        .restaurant-item:hover {
            background: #e9ecef;
            border-color: #667eea;
            transform: translateX(5px);
        }
        
        .restaurant-item.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        
        .restaurant-name {
            font-weight: 600;
            font-size: 16px;
            margin-bottom: 5px;
        }
        
        .restaurant-address {
            font-size: 14px;
            opacity: 0.8;
        }
        
        .restaurant-award {
            display: inline-block;
            padding: 4px 8px;
            background: #ffd700;
            color: #333;
            border-radius: 4px;
            font-size: 12px;
            margin-top: 5px;
            font-weight: 600;
        }
        
        .restaurant-item.active .restaurant-award {
            background: white;
            color: #667eea;
        }
        
        #map {
            flex: 1;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .info-window {
            padding: 10px;
            max-width: 250px;
        }
        
        .info-window h3 {
            margin-bottom: 8px;
            color: #333;
        }
        
        .info-window p {
            margin-bottom: 5px;
            font-size: 14px;
            color: #666;
        }
        
        .info-window .award {
            display: inline-block;
            padding: 4px 8px;
            background: #ffd700;
            color: #333;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            margin-top: 8px;
        }
        
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
                height: auto;
            }
            
            .sidebar {
                width: 100%;
                max-height: 400px;
            }
            
            #map {
                height: 500px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>🍜 第二屆500碗 - 全台美食地圖</h1>
        <p>2024年完整得獎名單：在地觀點的全台小吃新指南</p>
    </div>
    
    <div class="container">
        <div class="sidebar">
            <input type="text" class="search-box" placeholder="搜尋餐廳名稱或地址..." id="searchInput">
            
            <div class="filter-buttons">
                <button class="filter-btn active" data-filter="all">全部</button>
                <button class="filter-btn" data-filter="台北">台北</button>
                <button class="filter-btn" data-filter="台中">台中</button>
                <button class="filter-btn" data-filter="彰化">彰化</button>
                <button class="filter-btn" data-filter="高雄">高雄</button>
                <button class="filter-btn" data-filter="宜花">宜花</button>
            </div>
            
            <div class="restaurant-list" id="restaurantList"></div>
        </div>
        
        <div id="map"></div>
    </div>

    <script>
        // 餐廳資料（包含推測的地址）
        const restaurants = [
            // 3碗得獎名單
            {
                name: "財神台南擔仔麵",
                city: "台北",
                address: "台北市大安區忠孝東路四段216巷27弄16號",
                lat: 25.0418,
                lng: 121.5534,
                award: "3碗",
                category: "擔仔麵"
            },
            {
                name: "功夫上海手工魚丸",
                city: "台中",
                address: "台中市西區民生路370號",
                lat: 24.1377,
                lng: 120.6693,
                award: "3碗",
                category: "魚丸"
            },
            {
                name: "阿添蛤仔麵",
                city: "彰化",
                address: "彰化縣彰化市成功路312號",
                lat: 24.0758,
                lng: 120.5442,
                award: "3碗",
                category: "蛤仔麵"
            },
            {
                name: "前金肉燥飯",
                city: "高雄",
                address: "高雄市前金區自強二路144號",
                lat: 22.6273,
                lng: 120.2945,
                award: "3碗",
                category: "肉燥飯"
            },
            {
                name: "橋頭臭豆腐（創始店）",
                city: "宜花",
                address: "宜蘭縣礁溪鄉礁溪路五段5號",
                lat: 24.8269,
                lng: 121.7709,
                award: "3碗",
                category: "臭豆腐"
            },
            // 2碗得獎名單
            {
                name: "三元號魯肉飯",
                city: "台北",
                address: "台北市大同區重慶北路二段11號",
                lat: 25.0532,
                lng: 121.5137,
                award: "2碗",
                category: "魯肉飯"
            },
            {
                name: "豬肝榮仔",
                city: "台北",
                address: "台北市中正區羅斯福路一段8號",
                lat: 25.0421,
                lng: 121.5198,
                award: "2碗",
                category: "豬肝湯"
            },
            {
                name: "南港老張燒餅店",
                city: "台北",
                address: "台北市南港區南港路一段137號",
                lat: 25.0544,
                lng: 121.6065,
                award: "2碗",
                category: "燒餅/胡椒餅"
            },
            {
                name: "龍泉市場無名麵攤",
                city: "台北",
                address: "台北市大安區和平東路三段龍泉市場內",
                lat: 25.0234,
                lng: 121.5532,
                award: "2碗",
                category: "麵食"
            },
            {
                name: "賣麵炎仔",
                city: "台北",
                address: "台北市大同區安西街106號",
                lat: 25.0555,
                lng: 121.5156,
                award: "2碗",
                category: "麵食"
            },
            {
        name: "財神台南擔仔麵",
        city: "台北",
        address: "台北市大安區忠孝東路四段216巷27弄16號",
        lat: 25.0418,
        lng: 121.5534,
        award: "3碗",
        awardLevel: 3,
        category: "擔仔麵"
    },
    {
        name: "十二堂",
        city: "基隆",
        address: "基隆市仁愛區愛三路12號",
        lat: 25.1276,
        lng: 121.7408,
        award: "1碗",
        awardLevel: 1,
        category: "台灣小吃"
    },
    {
        name: "三沙灣麵線羹",
        city: "基隆",
        address: "基隆市中正區中船路29號",
        lat: 25.1372,
        lng: 121.7445,
        award: "1碗",
        awardLevel: 1,
        category: "麵線"
    },
    {
        name: "天天來鹹粥",
        city: "基隆",
        address: "基隆市仁愛區孝三路42巷4號",
        lat: 25.1278,
        lng: 121.7423,
        award: "1碗",
        awardLevel: 1,
        category: "鹹粥"
    },
    {
        name: "牛膳坊",
        city: "基隆",
        address: "基隆市仁愛區仁二路236號",
        lat: 25.1279,
        lng: 121.7398,
        award: "1碗",
        awardLevel: 1,
        category: "牛肉麵"
    },
    {
        name: "台灣小吃 旗魚麵線，旗魚湯",
        city: "基隆",
        address: "基隆市仁愛區仁三路24號",
        lat: 25.1280,
        lng: 121.7430,
        award: "1碗",
        awardLevel: 1,
        category: "麵線"
    },
    {
        name: "平實豆漿",
        city: "基隆",
        address: "基隆市仁愛區仁一路229號",
        lat: 25.1285,
        lng: 121.7425,
        award: "1碗",
        awardLevel: 1,
        category: "早餐"
    },
    {
        name: "老牌全家福酒釀湯圓元宵",
        city: "基隆",
        address: "基隆市仁愛區仁三路28號",
        lat: 25.1282,
        lng: 121.7428,
        award: "1碗",
        awardLevel: 1,
        category: "湯圓"
    },
    {
        name: "阿萬餛飩",
        city: "基隆",
        address: "基隆市仁愛區仁三路19號",
        lat: 25.1281,
        lng: 121.7431,
        award: "1碗",
        awardLevel: 1,
        category: "餛飩"
    },
    {
        name: "信奕原汁牛肉麵",
        city: "基隆",
        address: "基隆市仁愛區仁二路126號旁",
        lat: 25.1280,
        lng: 121.7410,
        award: "1碗",
        awardLevel: 1,
        category: "牛肉麵"
    },
    {
        name: "活力站蒟蒻屋",
        city: "基隆",
        address: "基隆市仁愛區仁三路30號",
        lat: 25.1283,
        lng: 121.7429,
        award: "1碗",
        awardLevel: 1,
        category: "台灣小吃"
    },
    {
        name: "紀家豬腳原汁專家",
        city: "基隆",
        address: "基隆市仁愛區孝二路51號",
        lat: 25.1290,
        lng: 121.7415,
        award: "1碗",
        awardLevel: 1,
        category: "豬腳"
    },
    {
        name: "基隆廟口21號魯排骨飯",
        city: "基隆",
        address: "基隆市仁愛區仁三路21號",
        lat: 25.1283,
        lng: 121.7432,
        award: "1碗",
        awardLevel: 1,
        category: "滷肉飯"
    },
    {
        name: "基隆廟口30號攤 蝦仁羹 魯肉飯",
        city: "基隆",
        address: "基隆市仁愛區仁三路30號",
        lat: 25.1283,
        lng: 121.7429,
        award: "1碗",
        awardLevel: 1,
        category: "蝦仁羹"
    },
    {
        name: "基隆廟口咖哩飯",
        city: "基隆",
        address: "基隆市仁愛區仁三路25號",
        lat: 25.1282,
        lng: 121.7430,
        award: "1碗",
        awardLevel: 1,
        category: "咖哩飯"
    },
    {
        name: "郭家巷頭粿仔湯",
        city: "基隆",
        address: "基隆市仁愛區孝三路99巷7號",
        lat: 25.1275,
        lng: 121.7420,
        award: "1碗",
        awardLevel: 1,
        category: "粿仔湯"
    },
    {
        name: "廣東汕頭牛肉店",
        city: "基隆",
        address: "基隆市仁愛區仁二路236號",
        lat: 25.1279,
        lng: 121.7398,
        award: "1碗",
        awardLevel: 1,
        category: "牛肉麵"
    },
    {
        name: "德基純手工水餃",
        city: "基隆",
        address: "基隆市仁愛區愛三路20號",
        lat: 25.1277,
        lng: 121.7409,
        award: "1碗",
        awardLevel: 1,
        category: "水餃"
    },
    {
        name: "慶安宮廟口咖哩炒麵炒飯",
        city: "基隆",
        address: "基隆市仁愛區仁三路10號",
        lat: 25.1284,
        lng: 121.7433,
        award: "1碗",
        awardLevel: 1,
        category: "炒麵"
    },
    {
        name: "潤潤潤餅",
        city: "基隆",
        address: "基隆市仁愛區中山一路61-1號",
        lat: 25.1295,
        lng: 121.7402,
        award: "1碗",
        awardLevel: 1,
        category: "潤餅"
    },
    {
        name: "鹹湯圓豬肝腸（大觀圓）",
        city: "基隆",
        address: "基隆市仁愛區仁三路15號",
        lat: 25.1285,
        lng: 121.7434,
        award: "1碗",
        awardLevel: 1,
        category: "鹹湯圓"
    },
    {
        name: "鹹粥魷魚雞捲 基隆廟口42號",
        city: "基隆",
        address: "基隆市仁愛區仁三路42號",
        lat: 25.1280,
        lng: 121.7427,
        award: "1碗",
        awardLevel: 1,
        category: "鹹粥"
    },
    {
        name: "美好花生",
        city: "花蓮",
        address: "花蓮市中美路55號",
        lat: 23.9750,
        lng: 121.6050,
        award: "1碗",
        awardLevel: 1,
        category: "花生製品"
    },
    {
        name: "美琪烤玉米",
        city: "花蓮",
        address: "花蓮市中美路10號",
        lat: 23.9752,
        lng: 121.6055,
        award: "1碗",
        awardLevel: 1,
        category: "烤玉米"
    },
    {
        name: "源香飲食店",
        city: "花蓮",
        address: "花蓮市中正路485號",
        lat: 23.9760,
        lng: 121.6060,
        award: "1碗",
        awardLevel: 1,
        category: "台灣小吃"
    },
    {
        name: "源寶屋咖哩麵包",
        city: "花蓮",
        address: "花蓮市中美路30號",
        lat: 23.9751,
        lng: 121.6053,
        award: "1碗",
        awardLevel: 1,
        category: "咖哩麵包"
    },
    {
        name: "慶豐麵店",
        city: "花蓮",
        address: "花蓮市中正路500號",
        lat: 23.9762,
        lng: 121.6065,
        award: "1碗",
        awardLevel: 1,
        category: "麵食"
    },
    {
        name: "三姐妹米苔目",
        city: "台東",
        address: "台東市新生路150號",
        lat: 22.7550,
        lng: 121.1500,
        award: "1碗",
        awardLevel: 1,
        category: "米苔目"
    },
    {
        name: "卡滋爾鬼頭刀特色美食",
        city: "台東",
        address: "台東市更生路200號",
        lat: 22.7545,
        lng: 121.1495,
        award: "1碗",
        awardLevel: 1,
        category: "海鮮"
    },
    {
        name: "正海城北方小館",
        city: "台東",
        address: "台東市中華路一段300號",
        lat: 22.7530,
        lng: 121.1480,
        award: "1碗",
        awardLevel: 1,
        category: "北方麵食"
    },
    {
        name: "冰菓手作冰棒",
        city: "台東",
        address: "台東市博愛路250號",
        lat: 22.7525,
        lng: 121.1475,
        award: "1碗",
        awardLevel: 1,
        category: "冰品"
    },
    {
        name: "好煎炸",
        city: "台東",
        address: "台東市中山路320號",
        lat: 22.7510,
        lng: 121.1460,
        award: "1碗",
        awardLevel: 1,
        category: "炸物"
    },
    {
        name: "成功豆花",
        city: "台東",
        address: "台東市成功鎮中華路100號",
        lat: 23.0990,
        lng: 121.3770,
        award: "1碗",
        awardLevel: 1,
        category: "豆花"
    },
    {
        name: "臼部厨房",
        city: "台東",
        address: "台東市更生路180號",
        lat: 22.7547,
        lng: 121.1497,
        award: "1碗",
        awardLevel: 1,
        category: "台灣小吃"
    },
    {
        name: "花式蔥餅",
        city: "台東",
        address: "台東市正氣路120號",
        lat: 22.7555,
        lng: 121.1510,
        award: "1碗",
        awardLevel: 1,
        category: "蔥餅"
    },
    {
        name: "品味鵝肉店",
        city: "台東",
        address: "台東市中華路一段280號",
        lat: 22.7532,
        lng: 121.1482,
        award: "1碗",
        awardLevel: 1,
        category: "鵝肉"
    },
    {
        name: "秒殺水煎包",
        city: "台東",
        address: "台東市新生路130號",
        lat: 22.7552,
        lng: 121.1502,
        award: "1碗",
        awardLevel: 1,
        category: "水煎包"
    },
    {
        name: "家鄉正宗池上便當",
        city: "台東",
        address: "台東市更生路160號",
        lat: 22.7548,
        lng: 121.1498,
        award: "1碗",
        awardLevel: 1,
        category: "便當"
    },
    {
        name: "粨發粨粽",
        city: "台東",
        address: "台東市博愛路230號",
        lat: 22.7527,
        lng: 121.1477,
        award: "1碗",
        awardLevel: 1,
        category: "粽子"
    },
    {
        name: "越來家鄉味",
        city: "台東",
        address: "台東市中山路300號",
        lat: 22.7512,
        lng: 121.1462,
        award: "1碗",
        awardLevel: 1,
        category: "台灣小吃"
    },
    {
        name: "痴愛玉",
        city: "台東",
        address: "台東市正氣路100號",
        lat: 22.7557,
        lng: 121.1512,
        award: "1碗",
        awardLevel: 1,
        category: "愛玉"
    },
    {
        name: "興倫製麵",
        city: "台東",
        address: "台東市更生路170號",
        lat: 22.7546,
        lng: 121.1496,
        award: "1碗",
        awardLevel: 1,
        category: "麵食"
    },
    {
        name: "ʙᴇʟʟö鍋燒販賣所",
        city: "台東",
        address: "台東市中華路一段270號",
        lat: 22.7533,
        lng: 121.1483,
        award: "1碗",
        awardLevel: 1,
        category: "鍋燒麵"
    }
        ];

        let map;
        let markers = [];
        let activeMarker = null;
        let infoWindow;

        // 初始化地圖
        function initMap() {
            // 設定地圖中心點（台灣中部）
            const taiwan = { lat: 23.9037, lng: 121.0794 };
            
            map = new google.maps.Map(document.getElementById('map'), {
                zoom: 7,
                center: taiwan,
                styles: [
                    {
                        featureType: "poi",
                        elementType: "labels",
                        stylers: [{ visibility: "off" }]
                    }
                ]
            });

            infoWindow = new google.maps.InfoWindow();

            // 為每個餐廳創建標記
            restaurants.forEach((restaurant, index) => {
                const marker = new google.maps.Marker({
                    position: { lat: restaurant.lat, lng: restaurant.lng },
                    map: map,
                    title: restaurant.name,
                    icon: {
                        url: restaurant.award === '3碗' 
                            ? 'http://maps.google.com/mapfiles/ms/icons/yellow-dot.png'
                            : 'http://maps.google.com/mapfiles/ms/icons/red-dot.png',
                        scaledSize: new google.maps.Size(40, 40)
                    }
                });

                marker.addListener('click', () => {
                    showRestaurantInfo(restaurant, marker);
                    highlightRestaurant(index);
                });

                markers.push(marker);
            });

            // 渲染餐廳列表
            renderRestaurantList();
        }

        // 顯示餐廳資訊視窗
        function showRestaurantInfo(restaurant, marker) {
            const content = `
                <div class="info-window">
                    <h3>${restaurant.name}</h3>
                    <p><strong>類別：</strong>${restaurant.category}</p>
                    <p><strong>地址：</strong>${restaurant.address}</p>
                    <div class="award">${restaurant.award}獎</div>
                </div>
            `;
            
            infoWindow.setContent(content);
            infoWindow.open(map, marker);
            
            // 將地圖中心移到該標記
            map.panTo(marker.getPosition());
            map.setZoom(16);
        }

        // 渲染餐廳列表
        function renderRestaurantList(filteredRestaurants = restaurants) {
            const listContainer = document.getElementById('restaurantList');
            listContainer.innerHTML = '';

            filteredRestaurants.forEach((restaurant, index) => {
                const item = document.createElement('div');
                item.className = 'restaurant-item';
                item.innerHTML = `
                    <div class="restaurant-name">${restaurant.name}</div>
                    <div class="restaurant-address">${restaurant.address}</div>
                    <span class="restaurant-award">${restaurant.award}獎</span>
                `;
                
                item.addEventListener('click', () => {
                    const markerIndex = restaurants.indexOf(restaurant);
                    google.maps.event.trigger(markers[markerIndex], 'click');
                });

                listContainer.appendChild(item);
            });
        }

        // 高亮顯示選中的餐廳
        function highlightRestaurant(index) {
            document.querySelectorAll('.restaurant-item').forEach((item, i) => {
                if (i === index) {
                    item.classList.add('active');
                    item.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                } else {
                    item.classList.remove('active');
                }
            });
        }

        // 搜尋功能
        document.getElementById('searchInput').addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase();
            const filtered = restaurants.filter(restaurant => 
                restaurant.name.toLowerCase().includes(searchTerm) ||
                restaurant.address.toLowerCase().includes(searchTerm) ||
                restaurant.category.toLowerCase().includes(searchTerm)
            );
            
            renderRestaurantList(filtered);
            
            // 更新地圖標記可見性
            markers.forEach((marker, index) => {
                marker.setVisible(filtered.includes(restaurants[index]));
            });
        });

        // 篩選功能
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                // 更新按鈕狀態
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                const filter = btn.getAttribute('data-filter');
                let filtered = restaurants;
                
                if (filter !== 'all') {
                    filtered = restaurants.filter(r => r.city === filter);
                }
                
                renderRestaurantList(filtered);
                
                // 更新地圖標記可見性
                markers.forEach((marker, index) => {
                    marker.setVisible(filter === 'all' || restaurants[index].city === filter);
                });
                
                // 調整地圖視野
                if (filtered.length > 0) {
                    const bounds = new google.maps.LatLngBounds();
                    filtered.forEach(restaurant => {
                        bounds.extend(new google.maps.LatLng(restaurant.lat, restaurant.lng));
                    });
                    map.fitBounds(bounds);
                }
            });
        });
    </script>
    
    <!-- 請替換 YOUR_API_KEY 為您的 Google Maps API 金鑰 -->
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBBEZEqrNZA2irkersNDGRZpSvjYQDc7m4&callback=initMap&language=zh-TW">
    </script>
</body>
</html>
